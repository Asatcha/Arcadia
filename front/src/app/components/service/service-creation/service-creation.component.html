<mat-accordion>
    <mat-expansion-panel
      (opened)="panelOpenState.set(true)"
      (closed)="panelOpenState.set(false)"
    >
      <mat-expansion-panel-header>
        <mat-panel-title>Créer un service</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="services">
        <form [formGroup]="serviceForm" (ngSubmit)="submit()">
          <div class="service-form">
            <mat-form-field appearance="fill">
              <mat-label>Nom</mat-label>
              <mat-icon matPrefix>restaurant</mat-icon>
              <input matInput formControlName="name" placeholder="Gribouille" />
            </mat-form-field>
  
            <mat-form-field>
                <mat-icon matPrefix>description</mat-icon>
                <mat-label>Description</mat-label>
                <textarea
                  matInput
                  cdkTextareaAutosize
                  #autosize="cdkTextareaAutosize"
                  cdkAutosizeMinRows="2"
                  cdkAutosizeMaxRows="10"
                  formControlName="description"
                  placeholder="Un petit train a votre service."
                ></textarea>
              </mat-form-field>
  
            <div class="button-fit">
              <button
                mat-raised-button
                [ngClass]="{ selected: selectedFile }"
                (click)="fileInput.click()"
              >
                <mat-icon>image</mat-icon>
                {{ selectedFile ? "Image sélectionnée" : "Ajouter une image" }}
              </button>
            </div>
  
            <input
              type="file"
              #fileInput
              (change)="onFileSelected(fileInput)"
              accept="image/*"
              hidden
            />
          </div>
          <div class="button-fit">
            <button
              [disabled]="serviceForm.invalid"
              mat-raised-button
              type="submit"
            >
              Créer
            </button>
          </div>
        </form>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
  